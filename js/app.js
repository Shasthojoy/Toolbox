webpackJsonp([9],{103:function(e,t){},105:function(e,t){},106:function(e,t){},107:function(e,t,n){"use strict";function r(e){n(108)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(109),s=n(110),o=n(38),u=r,c=o(a.a,s.a,!1,u,null,null);t.default=c.exports},108:function(e,t){},109:function(e,t,n){"use strict";t.a={}},110:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},a=[],s={render:r,staticRenderFns:a};t.a=s},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),a=n(22),s=n(59),o=n(88),u=n(93),c=n.n(u),i=n(104),f=(n.n(i),n(106));n.n(f);n(54),r.default.use(c.a),r.default.config.productionTip=!1,r.default.use(a.H),n(102),new r.default({el:"#q-app",router:s.a,store:o.a,render:function(e){return e(n(107).default)}})},54:function(e,t){},59:function(e,t,n){"use strict";function r(e){return function(){return n(61)("./"+e+".vue")}}var a=n(6),s=n(60);a.default.use(s.a),t.a=new s.a({routes:[{path:"/",component:r("Index"),children:[{path:"token/:token/type/:type/id/:id",component:r("channels/Index")},{path:"channels",component:r("channels/Index")},{path:"channels/:id",component:r("channels/Index")}]},{path:"/login",component:r("Login")},{path:"/login/:token",component:r("Login")}]})},61:function(e,t,n){function r(e){var t=a[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var a={"./Index.vue":[118,3],"./Login.vue":[119,5],"./ObjectViewer.vue":[115,7],"./channels/Index.vue":[120,0],"./channels/logs/Index.vue":[116,2],"./channels/logs/LogsListItem.vue":[113,6],"./channels/messages/Index.vue":[117,1],"./channels/messages/MessagesListItem.vue":[114,4]};r.keys=function(){return Object.keys(a)},r.id=61,e.exports=r},88:function(e,t,n){"use strict";var r=n(52),a=n(6),s=n(89),o=n(91),u=n(92);a.default.use(s.a),a.default.use(r.a);var c={token:"",server:"https://flespi.io",items:[],offline:!1,isCustomer:!1};t.a=new r.a.Store({state:c,actions:o.a,mutations:u.a})},90:function(e,t){},91:function(e,t,n){"use strict";var r=n(43),a=n.n(r),s=n(44),o=n.n(s),u=n(6),c=function(){var e=o()(a.a.mark(function e(t,n){var r,s,o,c,i=t.state,f=t.commit;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=25;break}r="",s={},e.t0=n,e.next="devices"===e.t0?5:"channels"===e.t0?8:11;break;case 5:return r=i.server+"/registry/devices/all",s={fields:"id,name"},e.abrupt("break",11);case 8:return r=i.server+"/gw/channels/all",s={fields:"id,name,uri,protocol_name"},e.abrupt("break",11);case 11:if(!i.token){e.next=25;break}return e.prev=12,e.next=15,u.default.http.get(r,{params:s});case 15:return o=e.sent,e.next=18,o.json();case 18:c=e.sent,f("setItems",c.result),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(12),f("reqFailed",e.t1);case 25:case"end":return e.stop()}},e,this,[[12,22]])}));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=o()(a.a.mark(function e(t){var n,r=(t.state,t.commit);return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.http.get("/statics/icons/favicon-16x16.png?_="+(new Date).getTime());case 3:n=e.sent,200===n.status&&r("setOfflineFlag",!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=o()(a.a.mark(function e(t){var n,r,s=t.state;t.commit;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.http.get(s.server+"/platform/customer");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,r.result&&r.result.length&&(s.isCustomer=!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s.isCustomer=!1;case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();t.a={getItems:c,checkConnection:i,getCustomer:f}},92:function(e,t,n){"use strict";function r(e){}function a(e,t){switch(t.status){case 0:o(e,!0),f.default.set(e,"token","");break;case 401:c(e)}}function s(e,t){f.default.set(e,"items",t)}function o(e,t){f.default.set(e,"offline",t)}function u(e,t){var n=t.replace("FlespiToken ","");t&&n.match(/^[a-z0-9]+$/i)?(f.default.http.headers.common.Authorization="FlespiToken "+n,i.d.set("X-Flespi-Token",n)):(n="",c(e)),f.default.set(e,"token",n)}function c(e){var t=i.b.get("X-Flespi-Token"),n=i.d.get.item("X-Flespi-Token");t&&n&&t===n&&i.b.remove("X-Flespi-Token"),i.d.remove("X-Flespi-Token"),f.default.http.headers.common.Authorization="",f.default.set(e,"token","")}var i=n(22),f=n(6);t.a={reqStart:r,setItems:s,reqFailed:a,setToken:u,clearToken:c,setOfflineFlag:o}}},[53]);