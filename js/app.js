webpackJsonp([20],{114:function(e,t,n){"use strict";var o=n(74);t.a={components:{Offline:o.default}}},128:function(e,t){e.exports={channels:{label:"Channels",icon:"merge_type",logs:{vuexModuleName:"channelsLogs",cols:[{name:"timestamp",width:165,display:!0,description:"Log event time"},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"ident",width:150,display:!0,description:"Connected device's identification string"},{name:"msgs",title:"messages",width:85,display:!0,description:"Number of messages received"},{name:"recv",title:"received",width:85,display:!0,description:"Number of bytes received"},{name:"send",title:"sent",width:85,display:!0,description:"Number of bytes sent"},{name:"host",width:150,display:!0,description:"Connected device's address (source) or IP address from which HTTP request was received (host)"},{name:"duration",width:85,display:!0,description:"Connection duration in seconds"},{name:"transport",width:85,display:!0,description:"Connected device's transport: tcp, udp, http etc"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}},messages:{vuexModuleName:"channelsMessages",actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right",needShowDate:!1},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}}},devices:{label:"Devices",icon:"mdi-developer-board",logs:{vuexModuleName:"devicesLogs",cols:[{name:"timestamp",width:165,display:!0,description:"Log event time"},{name:"event_code",title:"event",width:400,display:!0,description:"Log event code and description"},{name:"name",title:"setting",width:80,display:!0,description:"Setting name"},{name:"ident",width:150,display:!0,description:"Connected device's identification string"},{name:"msgs",title:"messages",width:85,display:!0,description:"Number of messages received"},{name:"recv",title:"recived",width:85,display:!0,description:"Number of bytes received"},{name:"send",title:"sent",width:85,display:!0,description:"Number of bytes sent"},{name:"source",width:150,display:!0,description:"Connected device's address"},{name:"host",width:150,display:!0,description:"IP address from which HTTP request was received"},{name:"duration",width:85,display:!0,description:"Connection duration in seconds"},{name:"transport",width:85,display:!0,description:"Connected device's transport: tcp, udp, http etc"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}},messages:{vuexModuleName:"devicesMessages",actions:[{icon:"mdi-content-copy",label:"copy",classes:"",type:"copy"}],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}}},streams:{label:"Streams",icon:"mdi-call-split",logs:{vuexModuleName:"streamsLogs",cols:[{name:"timestamp",width:165,display:!0,description:"Log event time"},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"messages",width:100,display:!0,description:"Number of messages has sent"},{name:"host",width:150,display:!0,description:"IP address from which HTTP request was received"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}}},modems:{label:"Modems",icon:"router",logs:{vuexModuleName:"modemsLogs",cols:[{name:"timestamp",width:165,display:!0,description:"Log event time"},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"address",width:100,display:!0,description:"SMS source address or SMS destination address"},{name:"type",width:100,display:!0,description:"hex or text"},{name:"text",width:150,display:!0,description:"textual SMS contents"},{name:"hex",width:150,display:!0,description:"hex representation of binary SMS contents"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}}},containers:{label:"Containers",icon:"featured_play_list",logs:{vuexModuleName:"containersLogs",cols:[{name:"timestamp",width:165,display:!0,description:"Log event time"},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:80,display:!0,description:"IP address from which HTTP request was received"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}}},abques:{label:"Abques",icon:"reorder",logs:{vuexModuleName:"abquesLogs",cols:[{name:"timestamp",width:165,display:!0,description:"Log event time"},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"host",width:80,display:!0,description:"IP address from which HTTP request was received"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}}},mqtt:{label:"MQTT",icon:"mdi-access-point-network",logs:{vuexModuleName:"mqttLogs",cols:[{name:"timestamp",width:165,display:!0,description:"Log event time"},{name:"event_code",title:"event",width:450,display:!0,description:"Log event code and description"},{name:"client_id",width:150,display:!0,description:"session client id"},{name:"published",width:80,display:!0,description:"amount of messages published by session"},{name:"received",width:80,display:!0,description:"amount of messages received by session"}],actions:[],viewConfig:{needShowFilter:!0,needShowMode:!1,needShowPageScroll:"right left",needShowDate:!0,needShowEtc:!0},theme:{color:"white",bgColor:"dark",contentInverted:!0,controlsInverted:!0}}}}},129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=n(57),s=n(133),a=n(168),d=n.n(a),r=n(177),c=n.n(r),l=n(308),u=(n.n(l),n(310));n.n(u);n(130);var p={socketConfig:{clientId:"toolbox-"+Math.random().toString(16).substr(2,8)}};-1===window.location.host.indexOf("localhost:9004")&&-1===window.location.host.indexOf("localhost:9005")&&-1===window.location.host.indexOf("localhost:7004")||(p={httpConfig:{server:"https://localhost",port:9005},socketConfig:{server:"wss://localhost:9017",clientId:"toolbox-"+Math.random().toString(16).substr(2,8)}}),o.default.use(c.a,p);var m=n(303).default;o.default.use(d.a),o.default.config.productionTip=!1,o.default.use(i.O),n(306),new o.default({el:"#q-app",router:s.a,store:m,render:function(e){return e(n(311).default)}})},130:function(e,t){},133:function(e,t,n){"use strict";function o(e){return function(){return n(148)("./"+e+".vue")}}var i=n(66),s=n.n(i),a=n(116),d=n.n(a),r=n(15),c=n(147),l=n(128),u=n.n(l);r.default.use(c.a),t.a=new c.a({routes:[{path:"/",component:o("Index"),children:[].concat(s()(function(e){return d()(e).reduce(function(e,t){return e.push({path:t,component:o(t+"/Index"),meta:{moduleName:t}}),e.push({path:t+"/:id",component:o(t+"/Index"),meta:{moduleName:t}}),e},[])}(u.a)),[{path:"view/:type/:id",name:"module",component:o("Index")}])},{path:"/token/:token/type/:type/id/:id",component:o("Index")},{path:"/token/:token/group/:group",component:o("Index")},{path:"/token/:token/type/:type/id/:id/fullscreen/:fullscreen",component:o("Index")},{path:"/login",component:o("Login")},{path:"/login/:token",component:o("Login")}]})},148:function(e,t,n){function o(e){var t=i[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"./Index.vue":[327,10],"./JsonTree.vue":[322,18],"./Login.vue":[328,14],"./ObjectViewer.vue":[320,17],"./Offline.vue":[74],"./RawViewer.vue":[321,16],"./abques/Index.vue":[329,8],"./channels/Index.vue":[330,1],"./channels/messages/Index.vue":[324,2],"./channels/messages/MessagesListItem.vue":[318,12],"./containers/Index.vue":[331,7],"./devices/Index.vue":[332,0],"./devices/MapComponent.vue":[326,13],"./devices/messages/Index.vue":[325,3],"./devices/messages/MessagesListItem.vue":[319,11],"./logs/Index.vue":[317,9],"./logs/LogsListItem.vue":[316,15],"./modems/Index.vue":[333,6],"./mqtt/Index.vue":[334,5],"./streams/Index.vue":[335,4]};o.keys=function(){return Object.keys(i)},o.id=148,e.exports=o},150:function(e,t){},151:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.offline?n("div",{staticClass:"offline-page window-height window-width bg-light column items-center no-wrap"},[n("div",{staticClass:"offline-back",style:{backgroundImage:"url("+e.logo+")"}},[n("div",{staticClass:"offline-code"}),e._v(" "),n("div",{staticClass:"offline-line"},e._l(Array(20),function(t){return n("span",[e._v("offline")])}))])]):e._e()},i=[],s={render:o,staticRenderFns:i};t.a=s},269:function(e,t){},271:function(e,t){},292:function(e,t){},293:function(e,t){},303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(121),i=n(15),s=n(304),a=n(305);i.default.use(o.a);var d={token:"",items:[],offline:!1,isCustomer:!1,isLoading:!1};t.default=new o.a.Store({state:d,actions:s.a,mutations:a.a})},304:function(e,t,n){"use strict";var o=n(118),i=n.n(o),s=n(66),a=n.n(s),d=n(115),r=n.n(d),c=n(119),l=n.n(c),u=n(15),p=function(){var e=l()(i.a.mark(function e(t,n){var o,s,d,c,l,p,m,f,h,v=t.state,g=t.commit;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=53;break}o="",s={},d={},e.t0=n,e.next="devices"===e.t0?5:"channels"===e.t0?9:"streams"===e.t0?13:"modems"===e.t0?17:"containers"===e.t0?21:"abques"===e.t0?25:29;break;case 5:return o="/gw/devices/all",s={fields:"id,name,ident"},d={fields:"item_data",filter:"event_origin=gw/devices/*,event_code=3"},e.abrupt("break",29);case 9:return o="/gw/channels/all",s={fields:"id,name,uri,protocol_name"},d={fields:"item_data",filter:"event_origin=gw/channels/*,event_code=3"},e.abrupt("break",29);case 13:return o="/gw/streams/all",s={fields:"id,name,configuration"},d={fields:"item_data",filter:"event_origin=gw/streams/*,event_code=3"},e.abrupt("break",29);case 17:return o="/gw/modems/all",s={fields:"id,name,configuration"},d={fields:"item_data",filter:"event_origin=gw/modems/*,event_code=3"},e.abrupt("break",29);case 21:return o="/storage/containers/all",s={fields:"id,name"},d={fields:"item_data",filter:"event_origin=storage/containers/*,event_code=3"},e.abrupt("break",29);case 25:return o="/storage/abques/all",s={fields:"id,name"},d={fields:"item_data",filter:"event_origin=storage/abques/*,event_code=3"},e.abrupt("break",29);case 29:if(!v.token){e.next=53;break}return e.prev=30,void 0!==v.isLoading&&(v.isLoading=!0),e.next=34,u.default.connector.http.get(o,{params:s});case 34:if(c=e.sent,l=c.data,p=[],!v.isCustomer){e.next=43;break}return e.next=40,u.default.connector.platform.getCustomerLogs({data:r()(d)});case 40:m=e.sent,f=m.data,p=f.result&&f.result.length?f.result:[];case 43:h=[].concat(a()(l.result),a()(p.map(function(e){var t=e.item_data;return t.deleted=!0,t}))),g("setItems",h),void 0!==v.isLoading&&(v.isLoading=!1),e.next=53;break;case 48:e.prev=48,e.t1=e.catch(30),g("reqFailed",e.t1),g("setItems",[]),void 0!==v.isLoading&&(v.isLoading=!1);case 53:case"end":return e.stop()}},e,this,[[30,48]])}));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=l()(i.a.mark(function e(t){var n,o=t.state,s=t.commit;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.connector.http.external.get("./statics/icons/favicon-16x16.png?_="+(new Date).getTime());case 3:n=e.sent,200===n.status&&o.offline&&s("setOfflineFlag",!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o.offline||s("setOfflineFlag",!0);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=l()(i.a.mark(function e(t){var n,o,s=t.state;t.commit;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,void 0!==s.isLoading&&(s.isLoading=!0),e.next=4,u.default.connector.platform.getCustomer();case 4:n=e.sent,o=n.data,o.result&&o.result.length&&(s.isCustomer=!0),void 0!==s.isLoading&&(s.isLoading=!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),s.isCustomer=!1,void 0!==s.isLoading&&(s.isLoading=!1);case 15:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}();t.a={getItems:p,checkConnection:m,getCustomer:f}},305:function(e,t,n){"use strict";function o(e){}function i(e,t){if(t.response&&t.response.status)switch(t.response.status){case 0:d(e,!0),u.default.set(e,"token","");break;case 401:c(e)}}function s(e,t){u.default.set(e,"items",t)}function a(e){u.default.set(e,"items",[])}function d(e,t){u.default.set(e,"offline",t)}function r(e,t){var n=t.replace("FlespiToken ","");if(n===e.token)return!1;t&&n.match(/^[a-z0-9]+$/i)?l.d.set("X-Flespi-Token",n):(n="",c(e)),u.default.connector.token="FlespiToken "+n,u.default.set(e,"token",n)}function c(e){var t=l.b.get("X-Flespi-Token"),n=l.d.get.item("X-Flespi-Token");t&&n&&t===n&&l.b.remove("X-Flespi-Token"),l.d.remove("X-Flespi-Token"),u.default.connector.token="",u.default.set(e,"token","")}var l=n(57),u=n(15);t.a={reqStart:o,setItems:s,reqFailed:i,setToken:r,clearToken:c,setOfflineFlag:d,clearItems:a}},307:function(e,t){},309:function(e,t){},310:function(e,t){},311:function(e,t,n){"use strict";function o(e){n(312)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(114),s=n(313),a=n(58),d=o,r=a(i.a,s.a,!1,d,null,null);t.default=r.exports},312:function(e,t){},313:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view"),e._v(" "),n("offline",{attrs:{logo:"../statics/toolbox.png"}})],1)},i=[],s={render:o,staticRenderFns:i};t.a=s},74:function(e,t,n){"use strict";function o(e){n(150)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(75),s=n(151),a=n(58),d=o,r=a(i.a,s.a,!1,d,null,null);t.default=r.exports},75:function(e,t,n){"use strict";t.a={name:"offline",props:["logo"],data:function(){return{intervalId:0}},created:function(){var e=this;this.intervalId=setInterval(function(){e.$store.dispatch("checkConnection")},5e3)}}}},[129]);